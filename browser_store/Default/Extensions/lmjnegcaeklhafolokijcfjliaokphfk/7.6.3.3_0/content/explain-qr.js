(()=>{var e={8258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExplainQR=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(3130);t.ExplainQR=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={hit:{}};var a=n,i=decodeURIComponent(new URL(document.URL).hash.substr(1));return weh.rpc.call("getHit",i).then((function(e){a.setState({hit:e})})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),a(t,[{key:"changedNotAgain",value:function(e){weh.prefs.qrMessageNotAgain=e.target.checked}},{key:"render",value:function(){return this.state.hit.id&&React.createElement("div",{className:"explain-qr"},React.createElement("div",{className:"qr-text"},weh._("file_generated",this.state.hit.localFilePath)),React.createElement("div",{className:"qr-text"},weh._("explain_qr1")),React.createElement("div",{className:"qr-img"},React.createElement("img",{src:"images/qr-video.png"})),React.createElement(i.LicInfoPanelComponent,null),React.createElement("div",{className:"not-again"},React.createElement("input",{id:"checkbox1",type:"checkbox",onChange:this.changedNotAgain.bind(this)}),React.createElement("label",{htmlFor:"checkbox1"},weh._("not_see_again"))))||null}}]),t}()},3130:(e,t,n)=>{"use strict";var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var i=n(3187);window.LicInfoPanel=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:"verifying",customStatus:"",customLicense:!1,email:null,key:null,editing:!1,editKey:"",chromeStatus:"",skus:null,purchases:null,premium:null,unneeded:!1,notSigned:!1,chromeMigrationRequired:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,React.Component),a(t,[{key:"componentWillMount",value:function(){this.check()}},{key:"check",value:function(){var e=this;e.setState({status:"verifying",email:null,key:null}),weh.rpc.call("checkLicense").then((function(t){e.setState(t)})).catch((function(e){console.error("Error checking license",e)}))}},{key:"onLicKeyChanged",value:function(){var e=this;return function(t){e.setState({editKey:t.target.value})}}},{key:"onLicKeyPressed",value:function(){var e=this;return function(t){"Enter"==t.key?e.register():"Escape"==t.key&&e.setState({editing:!1})}}},{key:"registerEdit",value:function(){var e=this;return function(){e.setState({editing:!0,editKey:""})}}},{key:"getLicense",value:function(){return function(){weh.rpc.call("goto","https://www.downloadhelper.net/convert"+(i.buildOptions.browser?"?browser="+encodeURIComponent(i.buildOptions.browser):""))}}},{key:"aboutChromeLicenses",value:function(){return function(){weh.rpc.call("goto","https://www.downloadhelper.net/chrome-licenses")}}},{key:"cancelRegister",value:function(){var e=this;return function(){e.setState({editing:!1})}}},{key:"register",value:function(){var e=this;this.setState({editing:!1,status:"verifying"}),this.validate(this.state.editKey.trim()).catch((function(t){e.setState({status:"error",error:t.message})}))}},{key:"validate",value:function(e){var t=this;return weh.rpc.call("validateLicense",e).then((function(e){e&&"nocoapp"==e.status?t.setState({status:"nocoapp",key:e.key}):t.check()}))}},{key:"render",value:function(){var e,t=React.createElement("div",{className:"lic-info-panel"},"accepted"==this.state.chromeStatus&&React.createElement("div",null,React.createElement("strong",null,weh._("chrome_license_webstore_accepted")),React.createElement("br",null),React.createElement("br",null)),this.state.editing&&React.createElement("div",{className:"input-license"},React.createElement("label",null,weh._("license_key")),React.createElement("input",{value:this.state.editKey,onChange:this.onLicKeyChanged(),onKeyDown:this.onLicKeyPressed()})),!this.state.editing&&{unverified:1,locked:1,accepted:1,blocked:1,nocoapp:1,error:1,mismatch:1}[this.state.status]&&this.state.key&&React.createElement("div",{className:"license-details"},React.createElement("table",null,React.createElement("tbody",null,this.state.email&&this.state.key&&React.createElement("tr",null,React.createElement("td",null,weh._("registered_email")),React.createElement("td",null,this.state.email)),this.state.key&&this.state.email&&React.createElement("tr",null,React.createElement("td",null,weh._("registered_key")),React.createElement("td",null,this.state.key))))),"unneeded"==this.state.status&&React.createElement("div",null,weh._("lic_not_needed_linux")),!this.state.editing&&"unset"==this.state.status&&React.createElement("div",null,weh._("no_license_registered")),!this.state.editing&&"nocoapp"==this.state.status&&React.createElement("div",null,weh._("no_coapp_license_unverified")),!this.state.editing&&"mismatch"==this.state.status&&this.state.brExt&&React.createElement("div",null,weh._("lic_mismatch2",[this.state.brLicense,this.state.brExt])),!this.state.editing&&"mismatch"==this.state.status&&!this.state.brExt&&React.createElement("div",null,weh._("lic_mismatch1",[this.state.brLicense])),!this.state.editing&&"error"==this.state.status&&React.createElement("div",null,this.state.error),React.createElement("div",{className:"btn-toolbar"},React.createElement("div",{className:"lnk-group"},!this.state.editing&&"unneeded"!=this.state.status&&this.state.key&&React.createElement("a",{href:"#",onClick:this.validate.bind(this,this.state.key)},weh._("recheck_license")),!this.state.editing&&"nocoapp"==this.state.status&&this.state.key&&React.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){return weh.rpc.call("installCoApp")}},weh._("coapp_install")),!this.state.editing&&"unneeded"!=this.state.status&&"nocoapp"!=this.state.status&&React.createElement("a",{href:"#",onClick:this.registerEdit()},weh._("register_existing_license")),!this.state.editing&&"unneeded"!=this.state.status&&"accepted"!=this.state.status&&"nocoapp"!=this.state.status&&React.createElement("a",{href:"#",onClick:this.getLicense()},weh._("get_conversion_license")),!this.state.editing&&React.createElement("a",{href:"#",onClick:this.aboutChromeLicenses()},weh._("about_chrome_licenses")),this.state.editing&&React.createElement("div",null,React.createElement("button",{className:"btn btn-outline-secondary",onClick:this.cancelRegister()},weh._("cancel")),React.createElement("button",{className:"btn btn-outline-primary",disabled:0===this.state.editKey.trim().length,onClick:this.register.bind(this)},weh._("validate_license"))))));switch(this.state.status){case"unneeded":e=weh._("lic_status_unneeded");break;case"accepted":e=weh._("lic_status_accepted");break;default:e=weh._("lic_status_"+this.state.status)}return React.createElement("div",null,React.createElement(CollapsibleSection,{title:e,content:t,open:this.props.open}))}}]),t}()},3187:e=>{e.exports={buildDate:"Wed Oct 12 2022 16:18:18 GMT+0200 (Central European Summer Time)",buildOptions:{browser:"chrome",noyt:"true"},prod:!0}}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}(()=>{"use strict";var e=n(8258);render(React.createElement("div",{className:"weh-shf"},React.createElement("div",null,React.createElement(WehHeader,{title:weh._("about_qr")}),React.createElement("main",null,React.createElement(e.ExplainQR,null)))),document.getElementById("root")),weh.setPageTitle(weh._("about_qr"))})()})();